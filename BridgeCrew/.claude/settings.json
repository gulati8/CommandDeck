{
  "permissions": {
    "defaultMode": "acceptEdits",
    "allow": [
      "Bash",
      "WebSearch",
      "Write(*)",
      "Edit(*)",
      "Read(*)",
      "Glob(*)",
      "Grep(*)",
      "Task(*)"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "AGENT_PROMPT=\"$TOOL_ARGS_prompt\"; AGENT=\"unknown\"; case \"$AGENT_PROMPT\" in *researcher*) AGENT=researcher ;; *planner*) AGENT=planner ;; *code-writer*) AGENT=code-writer ;; *code-reviewer*) AGENT=code-reviewer ;; *test-writer*) AGENT=test-writer ;; *documentation-writer*) AGENT=documentation-writer ;; *log-analyzer*) AGENT=log-analyzer ;; *debugger*) AGENT=debugger ;; *summarizer*) AGENT=summarizer ;; *feedback-coordinator*) AGENT=feedback-coordinator ;; *frontend-architect*) AGENT=frontend-architect ;; *premium-ux-designer*) AGENT=premium-ux-designer ;; *database-architect*) AGENT=database-architect ;; *api-designer*) AGENT=api-designer ;; *security-auditor*) AGENT=security-auditor ;; *performance-optimizer*) AGENT=performance-optimizer ;; *devops-engineer*) AGENT=devops-engineer ;; *product-strategy-advisor*) AGENT=product-strategy-advisor ;; *code-refactorer*) AGENT=code-refactorer ;; *git-commit-helper*) AGENT=git-commit-helper ;; esac; echo \"{\\\"timestamp\\\": \\\"$(date -Iseconds)\\\", \\\"event\\\": \\\"subagent_start\\\", \\\"tool\\\": \\\"Task\\\", \\\"agent\\\": \\\"$AGENT\\\"}\" >> .claude/logs/orchestration.jsonl 2>/dev/null || true"
          },
          {
            "type": "command",
            "command": "AGENT_PROMPT=\"$TOOL_ARGS_prompt\"; case \"$AGENT_PROMPT\" in *researcher*) echo -e \"\\033[34mğŸ” Starting researcher agent...\\033[0m\" ;; *planner*) echo -e \"\\033[35mğŸ“‹ Starting planner agent...\\033[0m\" ;; *code-writer*) echo -e \"\\033[32mâœï¸  Starting code-writer agent...\\033[0m\" ;; *code-reviewer*) echo -e \"\\033[33mğŸ‘ï¸  Starting code-reviewer agent...\\033[0m\" ;; *test-writer*) echo -e \"\\033[36mğŸ§ª Starting test-writer agent...\\033[0m\" ;; *documentation-writer*) echo -e \"\\033[37mğŸ“ Starting documentation-writer agent...\\033[0m\" ;; *log-analyzer*) echo -e \"\\033[35mğŸ“Š Starting log-analyzer agent...\\033[0m\" ;; *debugger*) echo -e \"\\033[31mğŸ› Starting debugger agent...\\033[0m\" ;; *summarizer*) echo -e \"\\033[90mğŸ“ Starting summarizer agent...\\033[0m\" ;; *feedback-coordinator*) echo -e \"\\033[33mğŸ”„ Starting feedback-coordinator agent...\\033[0m\" ;; esac"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "AGENT_PROMPT=\"$TOOL_ARGS_prompt\"; AGENT=\"unknown\"; case \"$AGENT_PROMPT\" in *researcher*) AGENT=researcher ;; *planner*) AGENT=planner ;; *code-writer*) AGENT=code-writer ;; *code-reviewer*) AGENT=code-reviewer ;; *test-writer*) AGENT=test-writer ;; *documentation-writer*) AGENT=documentation-writer ;; *log-analyzer*) AGENT=log-analyzer ;; *debugger*) AGENT=debugger ;; *summarizer*) AGENT=summarizer ;; *feedback-coordinator*) AGENT=feedback-coordinator ;; *frontend-architect*) AGENT=frontend-architect ;; *premium-ux-designer*) AGENT=premium-ux-designer ;; *database-architect*) AGENT=database-architect ;; *api-designer*) AGENT=api-designer ;; *security-auditor*) AGENT=security-auditor ;; *performance-optimizer*) AGENT=performance-optimizer ;; *devops-engineer*) AGENT=devops-engineer ;; *product-strategy-advisor*) AGENT=product-strategy-advisor ;; *code-refactorer*) AGENT=code-refactorer ;; *git-commit-helper*) AGENT=git-commit-helper ;; esac; echo \"{\\\"timestamp\\\": \\\"$(date -Iseconds)\\\", \\\"event\\\": \\\"subagent_complete\\\", \\\"tool\\\": \\\"Task\\\", \\\"agent\\\": \\\"$AGENT\\\"}\" >> .claude/logs/orchestration.jsonl 2>/dev/null || true"
          },
          {
            "type": "command",
            "command": "AGENT_PROMPT=\"$TOOL_ARGS_prompt\"; case \"$AGENT_PROMPT\" in *researcher*) echo -e \"\\033[34mğŸ” Researcher agent complete\\033[0m\" ;; *planner*) echo -e \"\\033[35mğŸ“‹ Planner agent complete\\033[0m\" ;; *code-writer*) echo -e \"\\033[32mâœï¸  Code-writer agent complete\\033[0m\" ;; *code-reviewer*) echo -e \"\\033[33mğŸ‘ï¸  Code-reviewer agent complete\\033[0m\" ;; *test-writer*) echo -e \"\\033[36mğŸ§ª Test-writer agent complete\\033[0m\" ;; *documentation-writer*) echo -e \"\\033[37mğŸ“ Documentation-writer agent complete\\033[0m\" ;; *log-analyzer*) echo -e \"\\033[35mğŸ“Š Log-analyzer agent complete\\033[0m\" ;; *debugger*) echo -e \"\\033[31mğŸ› Debugger agent complete\\033[0m\" ;; *summarizer*) echo -e \"\\033[90mğŸ“ Summarizer agent complete\\033[0m\" ;; *feedback-coordinator*) echo -e \"\\033[33mğŸ”„ Feedback-coordinator agent complete\\033[0m\" ;; esac"
          }
        ]
      }
    ]
  }
}
